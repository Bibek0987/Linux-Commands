ğŸ”µ 1. BASIC COMMANDS TO CONTROL ACCESS TO FILES
1ï¸âƒ£ Check file permissions
ls -l


Shows file type, permissions, owner, group, size, date, name.

Example output:::----------->>>>>

-rwxr-xr-- 1 root root  120 script.sh

2ï¸âƒ£ Change file permissions (chmod)
Give read, write, execute to owner
chmod u+rwx file.txt

Remove write from group
chmod g-w file.txt

Give execute permission to everyone
chmod a+x script.sh

Number format (777, 755, 644)
chmod 755 script.sh


7 = rwx

5 = r-x

3ï¸âƒ£ Change file owner (chown)
Change owner only
sudo chown bibek file.txt

Change owner and group
sudo chown bibek:devteam file.txt

Change owner of a folder and all inside (-R)
sudo chown -R apache:apache /var/www/

4ï¸âƒ£ Change group ownership (chgrp)
chgrp devteam file.txt

5ï¸âƒ£ Access Control Lists (ACLs)

ACLs allow more fine-grained permissions.

Add ACL for a user
setfacl -m u:bibek:rwx file.txt

Add ACL for a group
setfacl -m g:devteam:rw file.txt

View ACL
getfacl file.txt

Remove ACL
setfacl -x u:bibek file.txt

ğŸŸ¢ 2. REAL-TIME SCENARIOS + COMMANDS
ğŸ“Œ Scenario 1: Developer cannot edit a file

Error:

permission denied

Fix: give write permission
chmod u+w script.sh

ğŸ“Œ Scenario 2: Web server cannot read website files

Apache runs as apache or www-data.

Fix by giving read permission:
sudo chown -R apache:apache /var/www/html
chmod -R 755 /var/www/html

ğŸ“Œ Scenario 3: A user needs access without changing owner

Use ACL:

setfacl -m u:rahul:rw myreport.txt

ğŸ“Œ Scenario 4: Locked out of your own directory

Error:

bash: cd folder: Permission denied

Fix:
chmod 700 folder

ğŸ“Œ Scenario 5: Script not running

Error:

permission denied

Fix:
chmod +x script.sh
./script.sh

ğŸ“Œ Scenario 6: Team should access shared folder
mkdir /data
chgrp devteam /data
chmod 2775 /data


2 = sticky SGID bit â†’ new files inherit group

Perfect for project teams

ğŸ”´ 3. COMMON ISSUES + SOLUTIONS
â—Issue 1: File not executable
Fix:
chmod +x filename

â—Issue 2: Permission denied for folder
Fix:
chmod u+rwx folder

â—Issue 3: User cannot access a file but permission seems correct

Cause: ACL overrides normal permissions.

Check:
getfacl file.txt

Fix:
setfacl -x u:username file.txt

â—Issue 4: â€œOperation not permittedâ€ even as root?

File has immutable bit.

Check:
lsattr file.txt

Remove immutable:
chattr -i file.txt
